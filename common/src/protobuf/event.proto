syntax = "proto3";

package common.event;

message Event {
    enum Dir {
        INTERNAL = 0;
        INCOMING = 1;
        OUTCOMING = 2;
    }

    enum Dest {
        Server = 0;
        PluginMan = 1;
        Node = 2;
    }

    enum Kind {
        NEW_STREAM = 0;
        NEW_STREAM_EVENT = 1;
        NEW_FD = 2;
        OLD_FD = 3;
        NEW_CLIENT_EVENT = 4;
        NEW_PLUGIN = 5;
        NEW_PLUGIN_EVENT = 6;
        UPDATE_SHARED_MEMORY = 7;
        NEW_NODE_EVENT = 8;
        BROADCAST_EVENT = 9;
        NEW_SERVER_EVENT = 10;
        NEW_PLUGIN_MAN_EVENT = 11;
        GET_FROM_SHARED_MEMORY = 12;
    }

    optional Dir dir = 1;
    optional Dest dest = 2;
    Kind kind = 3;
    repeated bytes data = 4;
    repeated bytes meta = 5;
}
